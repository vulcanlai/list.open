<!doctype html>
<html>

<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">

	<title>事件循序展開(關閉)列表</title>

	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.2/normalize.min.css">

	<style type="text/css">
        ul {
            list-style-type: decimal;
        }
		li {
			display: none;
			height: 100px;
		}
	</style>

	<body>
		<ul id="ulBox">
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
			<li>scroll 請往下捲動</li>
		</ul>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script>
			// 事件循序展開列表
			$(function() {
				x = 10;
				$('#ulBox li:lt('+ x +')').show();
				$(window).scroll(function() {
					var _listing = $('#ulBox');
					var _listingBOTTOM = Math.round(_listing.offset().top + _listing.height());
					var _screen = Math.round(_listingBOTTOM - $(window).height());
					size_list = $("#ulBox li").size();

					if($(window).scrollTop() > (_screen - 100)) {
						x= (x+10 <= size_list) ? x+10 : size_list;
						$('#ulBox li:lt('+ x +')').slideDown();
					};
				});
			});
		</script>
	</body>

</html>